function closeAllSelect(e){var t,r,n,s=[];for(t=document.getElementsByClassName("select-items"),r=document.getElementsByClassName("select-selected"),n=0;n<r.length;n++)e==r[n]?s.push(n):r[n].classList.remove("select-arrow-active");for(n=0;n<t.length;n++)s.indexOf(n)&&t[n].classList.add("select-hide")}function openTab(e,t){var r,n,s;for(n=document.getElementsByClassName("tabcontent"),r=0;r<n.length;r++)n[r].style.display="none",n[r].classList.remove("visible-content");for(s=document.getElementsByClassName("tablinks"),r=0;r<s.length;r++)s[r].className=s[r].className.replace(" activeTab","");var a=document.getElementById(t);a.style.display="flex",a.classList.add("visible-content"),e.currentTarget.className+=" activeTab",a.querySelector(".tabcontent-1")&&(a.querySelector(".tabcontent-1").style.display="flex",a.querySelector(".tablinks-1").classList.add("activeInsideTab"),a.querySelector(".tabcontentStyle").style.display="flex",a.querySelector(".tab-style__nav-btn").classList.add("activeStyleTab"));var i=document.querySelector(".interesting");a.classList.contains("tab-style")||a.classList.contains("tab-gallery")||a.classList.contains("tab-stock")||a.classList.contains("tab-progress")||a.classList.contains("tab-partners")||a.classList.contains("tab-calc")?i.style.display="none":i.style.display="block"}function openTabInside(e,t){var r=document.getElementsByClassName("tabcontent-1");for(i=0;i<r.length;i++)r[i].style.display="none";var n=document.getElementsByClassName("tablinks-1");for(i=0;i<n.length;i++)n[i].className=n[i].className.replace(" activeInsideTab","");document.getElementById(t).style.display="flex",e.currentTarget.className+=" activeInsideTab"}function styleNav(e,t){var r=document.getElementsByClassName("tabcontentStyle");for(i=0;i<r.length;i++)r[i].style.display="none";var n=document.getElementsByClassName("tab-style__nav-btn");for(i=0;i<n.length;i++)n[i].className=n[i].className.replace(" activeStyleTab","");var s=document.getElementById(t);s.style.display="flex",e.currentTarget.className+=" activeStyleTab",s.querySelector(".tabcontent-1").style.display="flex",s.querySelector(".tablinks-1").classList.add("activeInsideTab")}function getCurrentSliderNumbers(){return currentYear=parseInt(document.querySelector(".slider_time .ui-slider-tip").innerHTML,10),currentRate=parseInt(document.querySelector(".slider_rate .ui-slider-tip").innerHTML,10),currentYear}function calcCredit(){getCurrentSliderNumbers(),amountOfCredit.innerHTML=realtyCostNumber-firstPaymentNumber+" руб."}function calcMonthPayment(){getCurrentSliderNumbers();var e=(realtyCostNumber-firstPaymentNumber)/(12*currentYear),t=.001*currentRate*(realtyCostNumber-firstPaymentNumber);monthPayment.innerHTML=Math.round(100*(e+t))/100+" руб."}function openList(e,t,r){var n=e.querySelector("."+t),s=e.querySelector("."+r);n.classList.toggle("open_list"),s.classList.toggle("filter__select_opened"),n.style.maxHeight?n.style.maxHeight=null:n.style.maxHeight=n.scrollHeight+30+"px"}$(document).ready(function(){$(".owl-carousel-header").owlCarousel({loop:!0,margin:0,autoplay:!0,nav:!1,dots:!0,mouseDrag:!1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}}),$(".owl-carousel").owlCarousel({loop:!0,margin:0,autoplay:!0,nav:!0,dots:!1,navText:["<i class='fa fa-chevron-left'></i>","<i class='fa fa-chevron-right'></i>"],responsive:{0:{items:1},320:{items:3},770:{items:4},1455:{items:5},1650:{items:6}}}),$(".property-selection__numbers").click(function(){$(this).toggleClass("active")}),$(".menu").click(function(){$(this).toggleClass("open"),$(".sidebar").toggleClass("active-bar"),$("body").toggleClass("overflow-hidden")});var e=1;$(window).scroll(function(){$(".progress__wrap").each(function(){$(this).offset().top<$(window).scrollTop()+300&&e<2&&($(".number").addClass("viz"),$("div").each(function(){var t=1,r=$(this).data("num"),n=200/r,s=$(this),a=setInterval(function(){t<=r?s.html(t):(e+=2,clearInterval(a)),t++},n)}))})}),$(".map__btn").click(function(){$(".map__wrap").slideToggle(0),$(".map__btn").toggleClass("active"),map.customGeoCoder("г. Москва",[],function(e){map.init({mapId:"yaMap",height:"365px",zoom:11,center:e,controls:["default","routeButtonControl"]}),console.log(e)})}),$(".aside-content__form-telm, .js_modal-mask").inputmask({alias:"phoneru"}),$(window).resize(function(){$(window).width()<770&&$(".housing__item-text").after($(".property-selection"))}),$(window).width()<770&&$(".housing__item-text").after($(".property-selection"))});var x,i,j,selElmnt,a,b,c;for(x=document.getElementsByClassName("custom-select"),i=0;i<x.length;i++){for(selElmnt=x[i].getElementsByTagName("select")[0],a=document.createElement("DIV"),a.setAttribute("class","select-selected"),a.innerHTML=selElmnt.options[selElmnt.selectedIndex].innerHTML,x[i].appendChild(a),b=document.createElement("DIV"),b.setAttribute("class","select-items select-hide"),j=1;j<selElmnt.length;j++)c=document.createElement("DIV"),c.innerHTML=selElmnt.options[j].innerHTML,c.addEventListener("click",function(e){var t,r,n;for(r=this.parentNode.parentNode.getElementsByTagName("select")[0],n=this.parentNode.previousSibling,t=0;t<r.length;t++)if(r.options[t].innerHTML==this.innerHTML){r.selectedIndex=t,n.innerHTML=this.innerHTML;break}n.click()}),b.appendChild(c);x[i].appendChild(b),a.addEventListener("click",function(e){e.stopPropagation(),closeAllSelect(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}if(document.addEventListener("click",closeAllSelect),$(".slider").slider({min:0,max:10,range:!0,values:[0,10],step:.1}).slider("pips",{rest:!1,suffix:" млн."}).slider("float",{rest:"label",suffix:" млн."}).draggable(),$(".slider_area").slider({min:0,max:120,range:!0,values:[0,120],step:1}).slider("pips",{rest:!1,suffix:" м<sup>2</sup>"}).slider("float",{suffix:" м<sup>2</sup>"}).draggable(),document.getElementById("default")&&document.getElementById("default").click(),$(".slider_time").slider({max:25,min:1,range:"min",step:.5}).slider("pips",{rest:"label",step:2.5}).slider("float",{rest:"label"}),$(".slider_rate").slider({max:25,min:1,range:"min",step:.1}).slider("pips",{rest:"label",step:15}).slider("float",{rest:"label"}),$(window).width()<576&&($(".slider_time").slider({max:25,min:1,range:"min",step:.5}).slider("pips",{rest:"label",step:10}).slider("float",{rest:"label"}),$(".slider_rate").slider({max:25,min:1,range:"min",step:.1}).slider("pips",{rest:"label",step:50}).slider("float",{rest:"label"})),realtyCost){var realtyCost=document.getElementById("cost"),firstPayment=document.getElementById("first-payment"),amountOfCredit=document.querySelector(".calc__final-credit"),monthPayment=document.querySelector(".calc__month-payment"),realtyCostNumber=0,firstPaymentNumber=0,currentRate,currentYear;realtyCost.oninput=function(){return realtyCostNumber=realtyCostNumber>=0?parseInt(realtyCost.value,10):0},firstPayment.oninput=function(){return firstPaymentNumber=firstPaymentNumber>=0?parseInt(firstPayment.value,10):0},$(document).on("click",".calc__btn",function(){calcCredit(),calcMonthPayment()})}$(document).on("click",".js_open-modal",function(){$(".modal").fadeIn("fast")}),$(document).on("click",".js_close-modal",function(){$(".modal").fadeOut("fast")});var city=document.getElementById("city"),outOfTown=document.getElementById("out-of-town");city.addEventListener("click",function(){openList(city,"filter__select_list","filter__select")}),outOfTown.addEventListener("click",function(){openList(outOfTown,"filter__select_list","filter__select")});